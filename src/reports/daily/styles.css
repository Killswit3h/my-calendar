/* Print styles for Daily Report (Letter, portrait) */
@page { size: Letter; margin: 0.5in; }

/* Font faces: prefer Calibri, fallback to Carlito, then system */
/* Place Calibri/Carlito files under public/fonts if licensing permits */
@font-face {
  font-family: 'Calibri';
  src: url('/fonts/Calibri-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Calibri';
  src: url('/fonts/Calibri-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Carlito';
  src: url('/fonts/Carlito-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Carlito';
  src: url('/fonts/Carlito-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

:root {
  --report-scale: 0.60; /* 60% */
  --outer-border: 2pt;
  --inner-border: 0.5pt;
  --pad-t: 6pt; --pad-r: 8pt; --pad-b: 6pt; --pad-l: 8pt;
  --gap: 8pt;
  --title-size: 16pt;
  --project-size: 11pt;
  --body-size: 10pt;
  --small-size: 9pt;
  --crew-line: 14pt;

  /* Vendor color tokens */
  --vendor-jorge-bg: #E6F4EA; --vendor-jorge-fg: #1F7A4D; --vendor-jorge-border: #22A06B;
  --vendor-tony-bg: #E7F0FF; --vendor-tony-fg: #1D7AFC; --vendor-tony-border: #1D7AFC;
  --vendor-chris-bg: #FDEBEC; --vendor-chris-fg: #E34935; --vendor-chris-border: #E34935;
  --vendor-neutral-bg: #F2F4F7; --vendor-neutral-fg: #344054; --vendor-neutral-border: #D0D5DD;
}

html, body { height: 100%; }
body { margin: 0; background: white; }

.report-wrapper {
  width: 100%;
  /* center the scaled content */
  display: block;
}
.report-scale {
  width: calc(100% / var(--report-scale));
  transform: scale(var(--report-scale));
  transform-origin: top left;
  margin: 0 auto; /* visual centering */
  font-family: Calibri, Carlito, system-ui, "Segoe UI", Arial, sans-serif;
  color: #000;
}

.title {
  font-size: var(--title-size);
  font-weight: 700;
  text-align: center;
  margin-bottom: 10pt;
}

.jobs {
  display: flex;
  flex-direction: column;
  gap: var(--gap);
}

.job {
  border: var(--outer-border) solid #000;
  padding: var(--pad-t) var(--pad-r) var(--pad-b) var(--pad-l);
  break-inside: avoid; /* keep block together */
}
.row {
  display: flex;
  align-items: flex-start;
  border-top: var(--inner-border) solid #000;
}
.row:first-child { border-top: 0; }
.cell { padding: 2pt 3pt; font-size: var(--body-size); line-height: var(--crew-line); }
.cell.small { font-size: var(--small-size); }
.cell.bold { font-weight: 700; }

/* Column widths (percentages inserted inline by renderer) */
.notes {
  margin-top: 12pt;
  border: var(--outer-border) solid #000;
  padding: var(--pad-t) var(--pad-r) var(--pad-b) var(--pad-l);
  break-inside: avoid;
}
.notes-title { font-size: var(--body-size); font-weight: 700; margin-bottom: 6pt; }
.notes-body { font-size: var(--body-size); display: -webkit-box; -webkit-line-clamp: 6; -webkit-box-orient: vertical; overflow: hidden; }

.section-title { margin-top: 12pt; margin-bottom: 4pt; font-size: var(--body-size); font-weight: 700; }

/* Light table border lines for internal grid, applied per-cell by renderer */
/* Additional print safety */
@media print {
  body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
}

/* =====================
   Grid table with header
   ===================== */
.grid-table { width: 100%; border-collapse: collapse; table-layout: fixed; }
.grid-table thead { display: table-header-group; }
.grid-table th, .grid-table td { padding: 0; margin: 0; }

/* Header row */
.grid-head tr { display: grid; grid-template-columns: minmax(40%,1fr) minmax(6.5%,fit-content(8.5%)) minmax(20%,1fr) minmax(5.1%,fit-content(7%)) minmax(3.0%,fit-content(4%)) minmax(7.0%,fit-content(9.5%)) minmax(3.5%,fit-content(6%)) minmax(3.0%,fit-content(4.5%)); }
.grid-head th {
  background: #E6E6E6;
  color: #000;
  font-size: var(--small-size); /* 9pt */
  font-weight: 700;
  font-variant-caps: small-caps;
  height: 18pt;
  line-height: 18pt;
  border-bottom: 1pt solid #000;
  border-right: 0.5pt solid #000;
  padding: 3pt 4pt;
  text-align: center;
}
.grid-head th:last-child { border-right: 0; }
.grid-head .al-left { text-align: left; }

/* Job rows */
.job-row { display: grid; grid-template-columns: minmax(40%,1fr) minmax(6.5%,fit-content(8.5%)) minmax(20%,1fr) minmax(5.1%,fit-content(7%)) minmax(3.0%,fit-content(4%)) minmax(7.0%,fit-content(9.5%)) minmax(3.5%,fit-content(6%)) minmax(3.0%,fit-content(4.5%)); break-inside: avoid; page-break-inside: avoid; }
.job-row td { border-right: 0.5pt solid #000; vertical-align: middle; }
.job-row td:last-child { border-right: 0; }
.job-row .cell { padding: var(--pad-t) var(--pad-r) var(--pad-b) var(--pad-l); font-size: var(--body-size); line-height: var(--crew-line); }
.job-row .cell.bold { font-weight: 700; }
.job-row .al-left { text-align: left; }
.job-row .al-center { text-align: center; }

/* Thick outer border per job */
.job-row td { border-top: 2pt solid #000; border-bottom: 2pt solid #000; }
.job-row td:first-child { border-left: 2pt solid #000; }
.job-row td:last-child { border-right: 2pt solid #000; }

/* Spacer row between jobs */
.job-spacer td { height: var(--gap); padding: 0; border: 0; }

/* Vendor chips */
.vendor-chips { display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 4pt; }
.vendor-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 12pt;
  padding: 0 8pt;
  border-radius: 9999px;
  border: 1pt solid var(--vendor-neutral-border);
  background: var(--vendor-neutral-bg);
  color: var(--vendor-neutral-fg);
  font-size: clamp(8.5pt, 1vw, 9pt);
  font-weight: 700;
  text-transform: uppercase;
  line-height: 1;
}
.vendor-chip.vendor-jorge { background: var(--vendor-jorge-bg); color: var(--vendor-jorge-fg); border-color: var(--vendor-jorge-border); }
.vendor-chip.vendor-tony  { background: var(--vendor-tony-bg);  color: var(--vendor-tony-fg);  border-color: var(--vendor-tony-border); }
.vendor-chip.vendor-chris { background: var(--vendor-chris-bg); color: var(--vendor-chris-fg); border-color: var(--vendor-chris-border); }

/* Adaptive cell policies */
.cell.work { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: clamp(8.5pt, 1vw, 10pt); letter-spacing: -0.1pt; }
.cell.payment, .cell.time, .cell.payroll { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: clamp(9pt, 1vw, 10pt); }
.cell.invoice { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
